{"version":3,"sources":["contexts/CurrentUserContext.js","components/ProtectedRoute/ProtectedRoute.js","components/Logo/Logo.js","images/header-icon-main.svg","components/NavBar/NavBar.js","components/Navigation/Navigation.js","components/Header/Header.js","images/promo-image.png","components/Promo/Promo.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","images/author.png","components/AboutMe/AboutMe.js","images/icon-arrow.svg","components/Portfolio/Portfolio.js","components/Main/Main.js","images/icon-search.svg","components/FilterCheckbox/FilterCheckbox.js","components/SearchForm/SearchForm.js","components/Preloader/Preloader.js","images/icon-delete.svg","components/MoviesCard/MoviesCard.js","components/MoviesCardList/MoviesCardList.js","utils/MoviesApi.js","components/NotFoundMovies/NotFoundMovies.js","utils/utils.js","components/Movies/Movies.js","utils/constants.js","utils/MainApi.js","components/SavedMovies/SavedMovies.js","hooks/useFormWithValidation.js","components/Profile/Profile.js","images/header-logo.svg","components/Register/Register.js","components/Login/Login.js","components/NotFound/NotFound.js","components/Footer/Footer.js","components/InfoTooltip/InfoTooltip.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","ProtectedRoute","loggedIn","routeProps","localStorage","getItem","to","Logo","className","target","rel","NavBar","id","type","htmlFor","src","iconMain","alt","Navigation","exact","path","Header","location","Promo","href","promoImage","AboutProject","Techs","AboutMe","author","Portfolio","iconArrow","Main","FilterCheckbox","shortMovieFilter","onCheckboxChange","checked","onChange","name","value","SearchForm","getInitialMovies","useState","searchQuery","setSearchQuery","placeholderMessage","setPlaceHolderMessage","isPlaceholderShow","setPlaceholderShow","inputRef","createRef","handleEmptySearchRequest","onSubmit","e","preventDefault","trim","length","current","focus","action","noValidate","ref","onBlur","placeholder","autoComplete","required","iconSearch","Preloader","isShow","MoviesCard","mins","onMovieSave","onMovieDelete","savedUserMovies","movie","movieId","country","director","year","description","trailer","thumbnail","nameRU","nameEN","image","duration","movieData","isSavedMovie","some","i","movieSaveButtonClassName","Math","trunc","onClick","forEach","savedMovie","_id","iconDelete","MoviesCardList","initialMovies","countMovies","setCountMovies","useEffect","window","innerWidth","disableMoviesButton","useMemo","slice","map","trailerLink","formats","url","checkResponse","res","ok","json","Promise","reject","status","NotFoundMovies","isErrorMessage","filterMovies","query","toString","toLowerCase","includes","Movies","setinitialMovies","isPreloaderShow","setPreloaderShow","setIsErrorMessage","setShortMovieFilter","lastSavedMovies","JSON","parse","fetch","method","headers","Accept","then","movies","moviesCards","filter","setItem","stringify","catch","err","console","log","finally","moviesFilter","movieCard","URL","getSavedMovies","Authorization","SavedMovies","initialSavedMovies","setInitialSavedMovies","savedMoviesCards","savedMovieCard","useFormWithValidation","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","validationMessage","Profile","onUpdateUser","handleLogout","serverError","currentUser","useContext","valid","messageServerError","setMessageServerError","setName","email","seEmail","handleInputChange","checkValidity","Object","keys","minLength","maxLength","disabled","Register","handleRegister","password","iconLogo","class","Login","handleLogin","NotFound","Footer","Date","getFullYear","InfoTooltip","error","isOpen","onClose","popupOpened","withRouter","pathname","useLocation","setCurrentUser","setLoggedIn","userMovies","setUserMovies","setServerError","errorMessage","setErrorMessage","isInfoProfilePopupOpen","setIsInfoProfilePopupOpen","history","useHistory","handleError","authorizeUser","body","authorize","token","tokenCheck","push","getUser","userData","user","getSavedMoviesCards","removeItem","removeSavedMovie","removeMoviesCard","Provider","moviesData","newMovieData","newUserData","updateUser","register","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.26baed8f.chunk.js","sourcesContent":["import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ loggedIn, ...routeProps }) => {\r\n  const token = localStorage.getItem('token');\r\n  return token ? <Route {...routeProps} /> : <Redirect to=\"/\" />;\r\n};\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\nimport './Logo.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nfunction Logo() {\r\n  return (\r\n    <NavLink className=\"logo\" to=\"/\" target=\"_blank\" rel=\"noopener\"></NavLink>\r\n  );\r\n}\r\n\r\nexport default Logo;","export default __webpack_public_path__ + \"static/media/header-icon-main.6b118466.svg\";","import React from 'react';\r\nimport iconMain from '../../images/header-icon-main.svg';\r\nimport './NavBar.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nfunction NavBar() {\r\n  return (\r\n    <div className=\"header__hamburger-menu\">\r\n      <input id=\"header__menu-toggle\" type=\"checkbox\" />\r\n      <label className=\"header__menu-btn\" htmlFor=\"header__menu-toggle\">\r\n        <span className=\"header__span\"></span>\r\n      </label>\r\n      <div className=\"header__menu-container\">\r\n        <ul className=\"header__menu-box\">\r\n          <li className=\"header__menu-box-item\"><NavLink className=\"header__menu-item\" to=\"/\">Главная</NavLink></li>\r\n          <li className=\"header__menu-box-item\"><NavLink className=\"header__menu-item\" to=\"/movies\">Фильмы</NavLink></li>\r\n          <li className=\"header__menu-box-item\"><NavLink className=\"header__menu-item\" to=\"/saved-movies\">Сохранённые фильмы</NavLink></li>\r\n          <li>\r\n            <NavLink className=\"header__menu-link-profile\" to=\"/profile\">Аккаунт\r\n              <img className=\"header__icon-profile\" src={iconMain} alt=\"изображение профиля пользователя\" />\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport iconMain from '../../images/header-icon-main.svg';\r\nimport './Navigation.css';\r\nimport { Switch, NavLink, Route } from 'react-router-dom';\r\nimport NavBar from '../NavBar/NavBar';\r\n\r\nfunction Navigation({ loggedIn }) {\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <nav className=\"header__navigation\">\r\n          <Route exact path={[\"/movies\", \"/saved-movies\", \"/profile\"]}>\r\n            <ul className=\"header__links\">\r\n              <li><NavLink className=\"header__link-movies\" to=\"/movies\" target=\"__blank\" rel=\"noopener\">Фильмы</NavLink></li>\r\n              <li><NavLink className=\"header__link-saved-movies\" to=\"/saved-movies\" target=\"__blank\" rel=\"noopener\">Сохранённые фильмы</NavLink></li>\r\n            </ul>\r\n          </Route>\r\n\r\n          <Route exact path=\"/\">\r\n            {loggedIn ? (\r\n              <>\r\n                <ul className=\"header__links\">\r\n                  <li><NavLink className=\"header__link-movies\" to=\"/movies\" target=\"__blank\" rel=\"noopener\">Фильмы</NavLink></li>\r\n                  <li><NavLink className=\"header__link-saved-movies\" to=\"/saved-movies\" target=\"__blank\" rel=\"noopener\">Сохранённые фильмы</NavLink></li>\r\n                </ul>\r\n                <NavLink className=\"header__link-profile\" to=\"/profile\">Аккаунт\r\n                  <img className=\"header__icon-profile\" src={iconMain} alt=\"изображение профиля пользователя\" />\r\n                </NavLink>\r\n                <NavBar />\r\n              </>\r\n            ) : (\r\n              <ul className=\"header__links-auth\">\r\n                <li><NavLink className=\"header__link-signup\" to=\"/signup\" target=\"__blank\" rel=\"noopener\">Регистрация</NavLink></li>\r\n                <li><NavLink className=\"header__link-login\" to=\"/signin\" target=\"__blank\" rel=\"noopener\">Войти</NavLink></li>\r\n              </ul>\r\n            )}\r\n            \r\n          </Route>\r\n\r\n          <Route exact path={[\"/movies\", \"/saved-movies\", \"/profile\"]}>\r\n            <NavLink className=\"header__link-profile\" to=\"/profile\">Аккаунт\r\n              <img className=\"header__icon-profile\" src={iconMain} alt=\"изображение профиля пользователя\" />\r\n            </NavLink>\r\n            <NavBar />\r\n          </Route>\r\n        </nav>\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Navigation;","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport './Header.css';\r\nimport Logo from '../Logo/Logo';\r\nimport Navigation from '../Navigation/Navigation';\r\n\r\nfunction Header({ location, loggedIn }) {\r\n  return (\r\n    <Route exact path={[\"/\", \"/movies\", \"/saved-movies\", \"/profile\"]}>\r\n      <header className={`header ${!loggedIn && location===\"/\" && 'header_dark'}`}>\r\n        <div className=\"header__container\">\r\n          <Logo />\r\n          <Navigation loggedIn={loggedIn} />\r\n        </div>\r\n      </header>\r\n    </Route>\r\n  );\r\n}\r\n\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/promo-image.bb2e7e78.png\";","import React from 'react';\r\nimport promoImage from '../../images/promo-image.png';\r\nimport './Promo.css';\r\n\r\nfunction Promo() {\r\n  return (\r\n    <div className=\"promo\">\r\n      <div className=\"promo__container\">\r\n        <article className=\"promo__description\">\r\n          <h1 className=\"promo__title\">Учебный проект студента факультета Веб&#8209;разработки.</h1>\r\n          <p className=\"promo__subtitle\">Листайте ниже, чтобы узнать больше про этот проект и его создателя.</p>\r\n          <a className=\"promo__link-content\" href=\"#about-me\" rel=\"noopener\">Узнать больше</a>\r\n        </article>\r\n        <img className=\"promo__illustration\" src={promoImage} alt=\"изображение вселенной\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Promo;","import React from 'react';\r\nimport './AboutProject.css';\r\n\r\nfunction AboutProject() {\r\n  return (\r\n    <section className=\"project\">\r\n      <h2 className=\"project__title\">О проекте</h2>\r\n      <ul className=\"project__cards\">\r\n        <li className=\"project__item\">\r\n          <h4 className=\"project__subtitle\">Дипломный проект включал 5 этапов</h4>\r\n          <p className=\"project__text\">Составление плана, работу над бэкендом, вёрстку, \r\n          добавление функциональности и финальные доработки.</p>\r\n        </li>\r\n        <li className=\"project__item\">\r\n          <h4 className=\"project__subtitle\">На выполнение диплома ушло 5 недель</h4>\r\n          <p className=\"project__text\">У каждого этапа был мягкий и жёсткий дедлайн, \r\n          которые нужно было соблюдать, чтобы успешно защититься.</p>\r\n        </li>\r\n      </ul>\r\n      <ul className=\"project__stage\">\r\n        <li className=\"project__stage-item\">\r\n          <h4 className=\"project__stage-title project__stage-title_color_green\">1 неделя</h4>\r\n          <p className=\"project__stage-subtitle\">Back-end</p>\r\n        </li>\r\n        <li className=\"project__stage-item\">\r\n          <h4 className=\"project__stage-title project__stage-title_color_gray\">4 недели</h4>\r\n          <p className=\"project__stage-subtitle\">Front-end</p>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default AboutProject;","import React from 'react';\r\nimport './Techs.css';\r\nimport '../AboutProject/AboutProject.css';\r\n\r\nfunction Techs() {\r\n  return (\r\n    <section className=\"techs\">\r\n        <div className=\"techs__container\">\r\n          <h2 className=\"project__title\">Технологии</h2>\r\n          <h3 className=\"techs__title\">7 технологий</h3>\r\n          <p className=\"techs__subtitle\">На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\r\n          <ul className=\"techs__list\">\r\n            <li className=\"techs__item\">\r\n              <p className=\"techs__item-text\">HTML</p>\r\n            </li>\r\n            <li className=\"techs__item\">\r\n              <p className=\"techs__item-text\">CSS</p\r\n            ></li>\r\n            <li className=\"techs__item\">\r\n              <p className=\"techs__item-text\">JS</p>\r\n            </li>\r\n            <li className=\"techs__item\">\r\n              <p className=\"techs__item-text\">React</p>\r\n            </li>\r\n            <li className=\"techs__item\">\r\n              <p className=\"techs__item-text\">Git</p>\r\n            </li>\r\n            <li className=\"techs__item\">\r\n              <p className=\"techs__item-text\">Express.js</p>\r\n            </li>\r\n            <li className=\"techs__item\">\r\n              <p className=\"techs__item-text\">mongoDB</p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </section>\r\n  );\r\n}\r\n\r\nexport default Techs;","export default __webpack_public_path__ + \"static/media/author.80c10066.png\";","import React from 'react';\r\nimport author from '../../images/author.png';\r\nimport './AboutMe.css';\r\nimport '../AboutProject/AboutProject.css';\r\n\r\nfunction AboutMe() {\r\n  return (\r\n    <section className=\"about-me\" id=\"about-me\">\r\n        <h2 className=\"project__title\">Студент</h2>\r\n        <div className=\"about-me__content\">\r\n          <article className=\"about-me__description\">\r\n            <h1 className=\"about-me__title\">Милана</h1>\r\n            <p className=\"about-me__subtitle\">Веб-разработчик, 34 года</p>\r\n            <p className=\"about-me__paragraph\">Я родилась в Минске, закончила факультет экономики и управления торговлей БГЭУ.\r\n              Работала в сфере общепита. 2 года назад переехала с семьей в Санкт-Петербург. У меня есть муж и 2 дочки. \r\n              Я люблю рисовать, а ещё увлекаюсь фитнесом. Недавно начала кодить.\r\n              По окончании курса по веб-разработке, хочу стать активным участником сильной команды.</p>\r\n            <ul className=\"about-me__links\">\r\n              <li>\r\n                <a className=\"about-me__link\" \r\n                  href=\"https://www.facebook.com/profile.php?id=100000351628871\" \r\n                  target=\"_blank\" \r\n                  rel=\"noopener noreferrer\">Facebook</a>\r\n                </li>\r\n              <li>\r\n                <a className=\"about-me__link\" \r\n                  href=\"https://github.com/Milanka-m\" \r\n                  target=\"_blank\" \r\n                  rel=\"noopener noreferrer\">Github</a>\r\n              </li>\r\n            </ul>\r\n          </article>\r\n          <img className=\"about-me__illustration\" src={author} alt=\"изображение автора\" />\r\n        </div>\r\n      </section>\r\n  );\r\n}\r\n\r\nexport default AboutMe;","export default __webpack_public_path__ + \"static/media/icon-arrow.c9123697.svg\";","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport iconArrow from '../../images/icon-arrow.svg';\r\nimport './Portfolio.css';\r\n\r\nfunction Portfolio() {\r\n  return (\r\n    <section className=\"portfolio\">\r\n      <a className=\"portfolio__link\" href=\"https://github.com/Milanka-m\" target=\"_blank\" rel=\"noopener noreferrer\">Портфолио</a>\r\n      <NavLink className=\"portfolio__links\" to=\"/\" target=\"_blank\" rel=\"noopener\">\r\n        <p className=\"portfolio__link-info\">Статичный сайт</p>\r\n        <img className=\"portfolio__link-arrow\" src={iconArrow} alt=\"иконка стрелки\" />\r\n      </NavLink>\r\n      <NavLink className=\"portfolio__links\" to=\"/\" target=\"_blank\" rel=\"noopener\">\r\n        <p className=\"portfolio__link-info\">Адаптивный сайт</p>\r\n        <img className=\"portfolio__link-arrow\" src={iconArrow} alt=\"иконка стрелки\" />\r\n      </NavLink>\r\n      <NavLink className=\"portfolio__links\" to=\"/\" target=\"_blank\" rel=\"noopener\">\r\n        <p className=\"portfolio__link-info\">Одностраничное приложение</p>\r\n        <img className=\"portfolio__link-arrow\" src={iconArrow} alt=\"иконка стрелки\" />\r\n      </NavLink>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Portfolio;","import React from 'react';\r\nimport Promo from '../Promo/Promo';\r\nimport AboutProject from '../AboutProject/AboutProject';\r\nimport Techs from '../Techs/Techs';\r\nimport AboutMe from '../AboutMe/AboutMe';\r\nimport Portfolio from '../Portfolio/Portfolio';\r\n\r\nfunction Main() {\r\n  return (\r\n    <main className=\"content\">\r\n      <Promo />\r\n      <AboutProject />\r\n      <Techs />\r\n      <AboutMe />\r\n      <Portfolio />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","export default __webpack_public_path__ + \"static/media/icon-search.2716ce18.svg\";","import React from 'react';\r\nimport './FilterCheckbox.css';\r\n\r\nfunction FilterCheckbox({ shortMovieFilter, onCheckboxChange }) {\r\n  return (\r\n    <fieldset className=\"search__form-selector\">\r\n      <label className=\"search__form-label\" htmlFor=\"short-movie\">\r\n        <input \r\n          className=\"search__form-item-selector\" \r\n          type=\"checkbox\"\r\n          checked={shortMovieFilter}\r\n          onChange={onCheckboxChange}\r\n          name=\"movie-option\" \r\n          id=\"short-movie\" \r\n          value=\"short-movie\" />\r\n        <span className=\"search__form-pseudo-item\"></span>\r\n        <span className=\"search__form-label-text\">{shortMovieFilter ? 'Короткометражки' : 'Не короткометражки'}</span>\r\n      </label>\r\n    </fieldset>\r\n  );\r\n}\r\n\r\nexport default FilterCheckbox;","import React from 'react';\r\nimport './SearchForm.css';\r\nimport iconSearch from '../../images/icon-search.svg';\r\nimport FilterCheckbox from '../FilterCheckbox/FilterCheckbox';\r\n\r\nfunction SearchForm({ getInitialMovies, shortMovieFilter, onCheckboxChange }) {\r\n  const [searchQuery, setSearchQuery] = React.useState('');\r\n  const [placeholderMessage, setPlaceHolderMessage] = React.useState(\r\n    'Фильм'\r\n  );\r\n  const [isPlaceholderShow, setPlaceholderShow] = React.useState(false);\r\n  const inputRef = React.createRef();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // если строка без пробельных символов равна нулю устанавливаем фокус полю\r\n    if (searchQuery.trim().length === 0) {\r\n      setPlaceHolderMessage('Нужно ввести ключевое слово');\r\n      setPlaceholderShow(true);\r\n      inputRef.current.focus();\r\n    } else {\r\n      getInitialMovies(searchQuery);\r\n      // очищаем поле формы при каждом сабмите\r\n      setSearchQuery('');\r\n    }\r\n  };\r\n\r\n  const handleChangeSearchInput = (e) => {\r\n    setSearchQuery(e.target.value);\r\n    handleEmptySearchRequest();\r\n  };\r\n\r\n  const handleEmptySearchRequest = () => {\r\n    setPlaceholderShow(false);\r\n    setPlaceHolderMessage('Фильм');\r\n  };\r\n\r\n  return (\r\n    <section className=\"search\">\r\n      <form \r\n        onSubmit={handleSubmit} \r\n        className=\"search__form\" \r\n        name=\"movie\" \r\n        action=\"#\"\r\n        noValidate>\r\n        <section className=\"search__form-section\">\r\n          <fieldset className=\"search__form-input-container\">\r\n            <input\r\n              ref={inputRef}\r\n              value={searchQuery}\r\n              onChange={handleChangeSearchInput}\r\n              onBlur={handleEmptySearchRequest}\r\n              className={`search__form-input ${isPlaceholderShow ? 'search__form-input-placeholder' : ''}`} \r\n              type=\"text\" \r\n              name=\"moviename\" \r\n              id=\"moviename\" \r\n              placeholder={placeholderMessage}\r\n              autoComplete=\"off\"\r\n              required />\r\n          </fieldset>\r\n          <fieldset className=\"search__form-handlers\">\r\n            <button className=\"search__form-button\" type=\"submit\" aria-label=\"поиск\">\r\n              <img className=\"search__form-icon-search\" src={iconSearch} alt=\"изображение иконки поиска\" />\r\n            </button>\r\n          </fieldset>\r\n        </section>\r\n        <FilterCheckbox shortMovieFilter={shortMovieFilter} onCheckboxChange={onCheckboxChange} />\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default SearchForm;","import React from 'react'\r\nimport './Preloader.css'\r\n\r\nfunction Preloader({ isShow }) {\r\n  return (\r\n    <div className={isShow ? 'preloader preloader_active' : 'preloader'}>\r\n      <div className=\"preloader__container\">\r\n        <span className=\"preloader__round\"></span>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Preloader;","export default __webpack_public_path__ + \"static/media/icon-delete.95dc43f5.svg\";","import React from 'react';\r\nimport iconDelete from '../../images/icon-delete.svg';\r\nimport './MoviesCard.css';\r\n\r\nfunction MoviesCard({ \r\n  location, \r\n  onMovieSave, \r\n  onMovieDelete, \r\n  savedUserMovies, \r\n  movie,\r\n  movieId,\r\n  country,\r\n  director,\r\n  year,\r\n  description,\r\n  trailer,\r\n  thumbnail,\r\n  nameRU, \r\n  nameEN,\r\n  image,\r\n  duration \r\n}) {\r\n  \r\n  const movieData = { movieId, country, director, duration, year, description, trailer, thumbnail, nameRU, nameEN, image };\r\n  const isSavedMovie = savedUserMovies.some(i => i.nameRU === nameRU);\r\n  const movieSaveButtonClassName = `${isSavedMovie && 'elements__icon-favorite_active'}`;\r\n\r\n  function getTimeFromMins(mins) {\r\n    const hours = Math.trunc(mins/60);\r\n\t  const minutes = mins % 60;\r\n\t  return hours + 'ч ' + minutes + 'м';\r\n  };\r\n\r\n  function handleClickSavedMovie() {\r\n   if (isSavedMovie) {\r\n      savedUserMovies.forEach((savedMovie) => {\r\n        if (savedMovie.nameRU === nameRU) {\r\n          onMovieDelete(savedMovie._id);\r\n        }\r\n      });\r\n    } else {\r\n      onMovieSave(movieData);\r\n    }\r\n  };\r\n\r\n  const handleClickDeleteMovie = () => {\r\n    onMovieDelete(movie._id);\r\n  };\r\n\r\n  return (\r\n    <article className=\"elements__movie\">\r\n      <a href={trailer} \r\n        className=\"elements__movie-link\" \r\n        target=\"_blank\" \r\n        rel=\"noopener noreferrer\">\r\n          <img className=\"elements__movie-image\" src={image} alt={nameRU} />\r\n      </a>\r\n      <div className=\"elements__label\">\r\n        <ul className=\"elements__list\">\r\n          <li><h2 className=\"elements__heading\">{nameRU}</h2></li>\r\n          <li><p className=\"elements__time\">{getTimeFromMins(duration)}</p></li> \r\n        </ul>\r\n        {location === '/movies' ? ( \r\n          <button \r\n            className={`elements__icon-favorite ${movieSaveButtonClassName}`} \r\n            type=\"button\" \r\n            aria-label=\"Сохранить фильм\" \r\n            onClick={handleClickSavedMovie}>\r\n          </button>\r\n        ) : (\r\n          <button \r\n            className=\"elements__button-delete\" \r\n            type=\"button\" \r\n            aria-label=\"Удалить фильм\" \r\n            onClick={handleClickDeleteMovie}>\r\n              <img className=\"elements__icon-delete\" src={iconDelete} alt=\"Удалить фильм\" />\r\n          </button>\r\n        )}\r\n      </div> \r\n    </article> \r\n  );\r\n}\r\n\r\nexport default MoviesCard;","import React from 'react';\r\nimport './MoviesCardList.css';\r\nimport MoviesCard from '../MoviesCard/MoviesCard';\r\n\r\nfunction MoviesCardList({ \r\n  location, \r\n  initialMovies = [], \r\n  onMovieSave, \r\n  onMovieDelete, \r\n  savedUserMovies }) {\r\n  \r\n  const [countMovies, setCountMovies] = React.useState(0);\r\n\r\n  React.useEffect(() => {\r\n    location === '/movies' ? actualResizeHandler() : setCountMovies(initialMovies.length);\r\n  }, [initialMovies, location]);\r\n\r\n  function actualResizeHandler() {\r\n    if (window.innerWidth > 1250) {\r\n      setCountMovies(12);\r\n    } else if (window.innerWidth > 750) {\r\n      setCountMovies(8);\r\n    }\r\n    else {\r\n      setCountMovies(5);\r\n    }\r\n  }\r\n\r\n  function addMoreMovies() {\r\n    if (window.innerWidth > 1250) {\r\n      setCountMovies(countMovies + 3);\r\n    } else {\r\n      setCountMovies(countMovies + 2);\r\n    }\r\n  };\r\n\r\n  const disableMoviesButton = React.useMemo(() => {\r\n    return countMovies >= initialMovies.length ? 'elements__movie-button_hidden' : '';\r\n  }, [countMovies, initialMovies]);\r\n\r\n  return (\r\n    <section className=\"elements\">\r\n      <div className=\"elements__container\">\r\n        {initialMovies.slice(0, countMovies).map(movie => {  \r\n          return (  \r\n            <MoviesCard \r\n              location={location}\r\n              onMovieSave={onMovieSave}\r\n              onMovieDelete={onMovieDelete}\r\n              savedUserMovies={savedUserMovies}\r\n              movie={movie}\r\n              movieId={movie.id || movie.movieId}\r\n              country={movie.country}\r\n              director={movie.director}\r\n              duration={movie.duration}\r\n              year={movie.year}\r\n              description={movie.description}\r\n              trailer={movie.trailerLink || movie.trailer}\r\n              thumbnail={movie.thumbnail || `https://api.nomoreparties.co${movie.image.formats.thumbnail.url}`}\r\n              nameRU={movie.nameRU}\r\n              nameEN={movie.nameEN}\r\n              image={location === '/saved-movies' ? movie.image : `https://api.nomoreparties.co${movie.image.url}`}\r\n              key={movie.id} \r\n            />  \r\n          )  \r\n        })}\r\n      </div>  \r\n      <button \r\n        onClick={addMoreMovies} \r\n        className={\r\n          location === '/movies'\r\n          ? `elements__movie-button ${disableMoviesButton}`\r\n          : 'elements__movie-button elements__movie-button_hidden'}>\r\n        Ещё\r\n      </button>\r\n    </section> \r\n  );\r\n}\r\n\r\nexport default MoviesCardList;","import { MOVIES_API } from './constants';\r\n\r\nconst { URL } = MOVIES_API;\r\n\r\nconst checkResponse = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n};\r\n\r\nexport const getMovies = () => {\r\n  return fetch(\r\n    `${URL}`,\r\n    {\r\n      method: 'GET',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n    }\r\n  )\r\n  .then(checkResponse);\r\n};\r\n","import React from 'react';\r\nimport './NotFoundMovies.css';\r\n\r\nfunction NotFoundMovies({ isErrorMessage }) {\r\n  return (\r\n    <section className=\"notfound-movies\">\r\n      <div className=\"notfound-movies__container\">\r\n        <h4 className=\"notfound-movies__title\">{\r\n          isErrorMessage \r\n          ? 'Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз.'\r\n          : 'Ничего не найдено.'\r\n        }</h4>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default NotFoundMovies;","export const filterMovies = (movie, query) => {\r\n  if (movie.nameRU.toString().toLowerCase().includes(query) || \r\n      (movie.nameEN !== null && movie.nameEN.toString().toLowerCase().includes(query))) {\r\n        return movie;\r\n  }\r\n    return;\r\n}","import React from 'react';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\nimport Preloader from '../Preloader/Preloader';\r\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\r\nimport { getMovies } from '../../utils/MoviesApi';\r\nimport NotFoundMovies from '../NotFoundMovies/NotFoundMovies';\r\nimport { filterMovies } from '../../utils/utils';\r\n\r\nfunction Movies({ location, onMovieSave, onMovieDelete, savedUserMovies }) {\r\n  const [initialMovies, setinitialMovies] = React.useState([]);\r\n  const [isPreloaderShow, setPreloaderShow] = React.useState(false);\r\n  const [isErrorMessage, setIsErrorMessage] = React.useState(false);\r\n  const [shortMovieFilter, setShortMovieFilter] = React.useState(false);\r\n\r\n  // эффект при монтировании компонента, извлекается массив фильмов из локального хранилища\r\n  React.useEffect(() => {\r\n    const lastSavedMovies = localStorage.getItem('movies');\r\n      if (lastSavedMovies) {\r\n        setinitialMovies(JSON.parse(lastSavedMovies));\r\n      } else {\r\n        setinitialMovies([]);\r\n      }\r\n      setShortMovieFilter(false);\r\n  }, []);\r\n\r\n  const handleCheckboxChange = () => {\r\n    setShortMovieFilter(!shortMovieFilter);\r\n    const lastSavedMovies = JSON.parse(localStorage.getItem('movies'));\r\n    if (lastSavedMovies) {\r\n      const moviesFilter = lastSavedMovies.filter(movieCard => movieCard.duration <= 40);\r\n      setinitialMovies(moviesFilter);\r\n    }\r\n  }\r\n\r\n  function getInitialMovies(query) {\r\n    setinitialMovies([]);\r\n    setPreloaderShow(true);\r\n    setIsErrorMessage(false);\r\n    getMovies()\r\n      .then((movies) => {\r\n        const moviesCards = movies.filter(movie => filterMovies(movie, query));\r\n        setinitialMovies(moviesCards);\r\n        localStorage.setItem('movies', JSON.stringify(moviesCards));\r\n        setShortMovieFilter(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setIsErrorMessage(true);\r\n      })\r\n      .finally(() => {\r\n        setPreloaderShow(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <SearchForm \r\n        getInitialMovies={getInitialMovies} \r\n        shortMovieFilter={shortMovieFilter} \r\n        onCheckboxChange={handleCheckboxChange}\r\n      />\r\n      <Preloader isShow={isPreloaderShow} />\r\n      {initialMovies.length > 0 ? (\r\n        <MoviesCardList \r\n          location={location}\r\n          initialMovies={initialMovies}\r\n          savedUserMovies={savedUserMovies}\r\n          onMovieDelete={onMovieDelete}\r\n          onMovieSave={onMovieSave}\r\n        />\r\n      ) : (\r\n        isErrorMessage ? <></> : <NotFoundMovies isErrorMessage={isErrorMessage} />\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Movies;","export const MOVIES_API = {\r\n  URL: 'https://api.nomoreparties.co/beatfilm-movies',\r\n};\r\n\r\nexport const MAIN_API = {\r\n  URL: 'https://api.movies-explorer-22.nomoredomains.club',\r\n};\r\n","import { MAIN_API } from './constants';\r\nconst { URL } = MAIN_API;\r\n\r\nconst checkResponse = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n};\r\n\r\nexport const register = (name, email, password) => {\r\n  return fetch(`${URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({name, email, password})\r\n  })\r\n  .then(checkResponse)\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then(checkResponse)\r\n};\r\n\r\nexport const getUser = (token) => {\r\n  return fetch(`${URL}/users/me`, {\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-type': 'application/json',\r\n      }\r\n  })\r\n  .then(checkResponse);\r\n}\r\n\r\nexport const updateUser = (newUserData) => {\r\n  return fetch(`${URL}/users/me`, {\r\n    method: 'PATCH',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n      'Content-type': 'application/json',\r\n      },\r\n    body: JSON.stringify({\r\n      name: newUserData.name,\r\n      email: newUserData.email,\r\n    })\r\n  })\r\n  .then(checkResponse);\r\n}\r\n\r\nexport const getSavedMovies = () => {\r\n  return fetch(`${URL}/movies`, {\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n      'Content-type': 'application/json',\r\n    }\r\n  })\r\n  .then(checkResponse);\r\n}\r\n\r\nexport const addMoviesCard = (newMovieData) => {\r\n  return fetch(`${URL}/movies`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n      'Content-type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      movieId: newMovieData.movieId,\r\n      country: newMovieData.country,\r\n      director: newMovieData.director,\r\n      duration: newMovieData.duration,\r\n      year: newMovieData.year,\r\n      description: newMovieData.description,\r\n      image: newMovieData.image,\r\n      trailer: newMovieData.trailer,\r\n      thumbnail: newMovieData.thumbnail,\r\n      nameRU: newMovieData.nameRU,\r\n      nameEN: newMovieData.nameEN,\r\n    })\r\n  })\r\n  .then(checkResponse);\r\n}\r\n\r\nexport const removeMoviesCard = (id) => {\r\n  return fetch(`${URL}/movies/${id}`, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n      'Content-type': 'application/json',\r\n    }\r\n  })\r\n  .then(checkResponse);\r\n} \r\n","import React from 'react';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\nimport Preloader from '../Preloader/Preloader';\r\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\r\nimport { getSavedMovies } from '../../utils/MainApi';\r\nimport NotFoundMovies from '../NotFoundMovies/NotFoundMovies';\r\nimport { filterMovies } from '../../utils/utils';\r\n\r\nfunction SavedMovies({loggedIn, location, savedUserMovies, onMovieDelete }) {\r\n\r\n  const [initialSavedMovies, setInitialSavedMovies] = React.useState([]);\r\n  const [isPreloaderShow, setPreloaderShow] = React.useState(false);\r\n  const [isErrorMessage, setIsErrorMessage] = React.useState(false);\r\n  const [shortMovieFilter, setShortMovieFilter] = React.useState(false);\r\n\r\n  const handleCheckboxChange = () => {\r\n    setShortMovieFilter(!shortMovieFilter);\r\n  }\r\n\r\n  function getInitialSavedMovies(query) {\r\n    setInitialSavedMovies([]);\r\n    setPreloaderShow(true);\r\n    setIsErrorMessage(false);\r\n    if (loggedIn) {\r\n      getSavedMovies()\r\n      .then((movies) => {\r\n        const savedMoviesCards = movies.filter(movie => filterMovies(movie, query));\r\n        setInitialSavedMovies(!shortMovieFilter \r\n          ? savedMoviesCards \r\n          : savedMoviesCards.filter(savedMovieCard => savedMovieCard.duration <= 40));\r\n        setShortMovieFilter(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setIsErrorMessage(true);\r\n      })\r\n      .finally(() => {\r\n        setPreloaderShow(false);\r\n      });\r\n    }\r\n    \r\n  };\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <SearchForm \r\n        getInitialMovies={getInitialSavedMovies} \r\n        shortMovieFilter={shortMovieFilter} \r\n        onCheckboxChange={handleCheckboxChange}\r\n      />\r\n      <Preloader isShow={isPreloaderShow}/>\r\n      {savedUserMovies.length > 0 ? (\r\n        <MoviesCardList \r\n          location={location}\r\n          initialMovies={initialSavedMovies.length > 0 ? initialSavedMovies : savedUserMovies}\r\n          savedUserMovies={savedUserMovies}\r\n          onMovieDelete={onMovieDelete}\r\n      />\r\n      ) : (\r\n        isErrorMessage ? <NotFoundMovies isErrorMessage={isErrorMessage} /> : <></>\r\n      )} \r\n    </main>\r\n  );\r\n}\r\n\r\nexport default SavedMovies;","import { useCallback, useState } from 'react';\r\n\r\nexport function useFormWithValidation() {\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isValid, setIsValid] = useState({});\r\n\r\n  function handleChange(e) {\r\n    const target = e.target;\r\n    const name = target.name;\r\n    const value = target.value;\r\n    setValues({ ...values, [name]: value });\r\n    setErrors({ ...errors, [name]: target.validationMessage });\r\n  };\r\n\r\n  const resetForm = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  return { values, handleChange, errors, isValid, resetForm, setIsValid };\r\n}\r\n","import React from 'react';\r\nimport { useFormWithValidation } from '../../hooks/useFormWithValidation';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\nimport './Profile.css';\r\nimport '../../styles/auth.css';\r\n\r\nfunction Profile({ onUpdateUser, handleLogout, serverError }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const valid = React.createRef();\r\n  const [messageServerError, setMessageServerError] = React.useState('');\r\n  const [name, setName] = React.useState();\r\n  const [email, seEmail] = React.useState();\r\n \r\n  const {\r\n    values,\r\n    handleChange,\r\n    errors,\r\n    isValid,\r\n    resetForm,\r\n    setIsValid,\r\n  } = useFormWithValidation();\r\n\r\n  React.useEffect(() => {\r\n    setIsValid(valid.current.checkValidity());\r\n  }, [setIsValid, valid]);\r\n\r\n  React.useEffect(() => {\r\n    resetForm();\r\n  }, [resetForm]);\r\n\r\n  React.useEffect(() => {\r\n    if (serverError === 400) setMessageServerError('Введены некорректные данные');\r\n  }, [serverError]);\r\n\r\n  React.useEffect(() => {\r\n    if(Object.keys(currentUser).length) {\r\n      setName(currentUser.name);\r\n      seEmail(currentUser.email);\r\n      setIsValid(Object.keys(values).length)\r\n    }\r\n  }, [currentUser, setIsValid, values]);\r\n\r\n  function handleInputChange(e) {\r\n    handleChange(e);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const { name, email } = values;\r\n    onUpdateUser({\r\n      name: name,\r\n      email: email,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"profile\">\r\n      <form \r\n        ref={valid}\r\n        name=\"profile\"\r\n        className=\"profile__form\" \r\n        action=\"#\"\r\n        onSubmit={handleSubmit}\r\n        noValidate\r\n      >\r\n        <div className=\"profile__form-container\">\r\n          <h2 className=\"profile__form-title\">{`Привет, ${values.name ? values.name : name}!`}</h2> \r\n          <fieldset className=\"profile__form-input-container\">\r\n            <section className=\"profile__form-section\">\r\n              <label className=\"profile__form-label\" htmlFor=\"name\">Имя</label> \r\n              <input \r\n                className={`profile__form-input ${\r\n                  errors.name ? 'auth__form-input-type-error' : ''}`} \r\n                value={values.name ? values.name : name} \r\n                onChange={handleInputChange} \r\n                type=\"text\" \r\n                name=\"name\" \r\n                id=\"name\"\r\n                autoComplete=\"off\"  \r\n                minLength=\"2\" \r\n                maxLength=\"30\" \r\n                required\r\n              />\r\n              <span className=\"auth__form-input-error\" id=\"name-error\">\r\n                {errors.name || ''}\r\n              </span>\r\n            </section> \r\n            <section className=\"profile__form-section\">\r\n              <label className=\"profile__form-label\" htmlFor=\"email\">E-mail</label>\r\n              <input \r\n                className={`profile__form-input ${\r\n                  errors.email ? 'auth__form-input-type-error' : ''}`} \r\n                value={values.email ? values.email : email} \r\n                onChange={handleInputChange} \r\n                type=\"email\" \r\n                name=\"email\" \r\n                id=\"email\"\r\n                autoComplete=\"off\" \r\n                required \r\n              />\r\n              <span className=\"auth__form-input-error\" id=\"email-error\">\r\n                {errors.email || ''}\r\n              </span>\r\n            </section>\r\n          </fieldset>\r\n        </div>\r\n        <fieldset className=\"profile__form-handlers\">\r\n          {serverError ? (\r\n            <span className=\"profile__form-message-error\">{messageServerError}</span>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          <button \r\n            type=\"submit\" \r\n            className={`profile__form-button ${\r\n              !isValid ? 'profile__form-button_disabled' : ''}`}\r\n            disabled={!isValid}\r\n          >\r\n            Редактировать\r\n          </button>\r\n        </fieldset>\r\n        <fieldset className=\"profile__form-handlers\">\r\n          <button \r\n            onClick={handleLogout} \r\n            className=\"profile__form-button profile__form-button_color_red\">\r\n              Выйти из аккаунта\r\n          </button>\r\n        </fieldset>\r\n      </form>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Profile;","export default __webpack_public_path__ + \"static/media/header-logo.2541116e.svg\";","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useFormWithValidation } from '../../hooks/useFormWithValidation';\r\nimport '../../styles/auth.css';\r\nimport iconLogo from '../../images/header-logo.svg';\r\n\r\nfunction Register({ handleRegister, serverError }) {\r\n\r\n  const valid = React.createRef();\r\n  const [messageServerError, setMessageServerError] = React.useState('');\r\n\r\n  const {\r\n    values,\r\n    handleChange,\r\n    errors,\r\n    isValid,\r\n    resetForm,\r\n    setIsValid,\r\n  } = useFormWithValidation();\r\n\r\n  React.useEffect(() => {\r\n    setIsValid(valid.current.checkValidity());\r\n  }, [setIsValid, valid]);\r\n\r\n  React.useEffect(() => {\r\n    resetForm();\r\n  }, [resetForm]);\r\n\r\n  React.useEffect(() => {\r\n    if (serverError === 400) setMessageServerError('Введены некорректные данные');\r\n    if (serverError === 409) setMessageServerError('Такой пользователь уже существует'); \r\n  }, [serverError]);\r\n\r\n  function handleInputChange(e) {\r\n    handleChange(e);\r\n  }\r\n  \r\n  function handleSubmit(e){\r\n    e.preventDefault();\r\n    const { name, email, password } = values;\r\n    handleRegister({ name, email, password });\r\n  }\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <form \r\n        ref={valid}\r\n        name=\"register\"\r\n        action=\"#\"\r\n        className=\"auth__form\" \r\n        onSubmit={handleSubmit}\r\n        noValidate\r\n      >\r\n        <div className=\"auth__form-container\">\r\n          <img className=\"auth__logo-form\" src={iconLogo} alt=\"изображение логотипа\" />\r\n          <h2 className=\"auth__form-title\">Добро пожаловать!</h2> \r\n          <fieldset className=\"auth__form-input-container\">\r\n            <section className=\"auth__form-section\">\r\n              <label class=\"auth__form-label\" htmlFor=\"name\">Имя</label> \r\n              <input className={`auth__form-input ${\r\n                errors.name ? 'auth__form-input-type-error' : ''}`}\r\n                type=\"text\" \r\n                value={values.name} \r\n                onChange={handleInputChange} \r\n                name=\"name\" \r\n                id=\"name\"\r\n                autoComplete=\"off\"  \r\n                minLength=\"2\"\r\n                maxLength=\"30\" \r\n                required \r\n              /> \r\n              <span className=\"auth__form-input-error\" id=\"name-error\">\r\n                {errors.name || ''}\r\n              </span>\r\n            </section> \r\n            <section className=\"auth__form-section\">\r\n              <label class=\"auth__form-label\" htmlFor=\"email\">E-mail</label>\r\n              <input className={`auth__form-input ${\r\n                errors.email ? 'auth__form-input-type-error' : ''}`} \r\n                type=\"email\" \r\n                value={values.email} \r\n                onChange={handleChange} \r\n                name=\"email\" \r\n                id=\"email\"\r\n                autoComplete=\"off\" \r\n                required \r\n              />\r\n              <span className=\"auth__form-input-error\" id=\"email-error\">\r\n                {errors.email || ''}\r\n              </span>\r\n            </section>\r\n            <section className=\"auth__form-section\">\r\n              <label class=\"auth__form-label\" htmlFor=\"password\">Пароль</label>\r\n              <input className={`auth__form-input ${\r\n                errors.password ? 'auth__form-input-type-error' : ''}`} \r\n                type=\"password\" \r\n                value={values.password} \r\n                onChange={handleChange} \r\n                name=\"password\" \r\n                id=\"password\"\r\n                minLength=\"8\"\r\n                autoComplete=\"off\"\r\n                required \r\n              />\r\n              <span className=\"auth__form-input-error\" id=\"password-error\">\r\n                {errors.password || ''}\r\n              </span>\r\n            </section>\r\n          </fieldset>\r\n        </div>\r\n        <fieldset className=\"auth__form-handlers\">\r\n          {serverError ? (\r\n            <span className=\"auth__form-message-error\">{messageServerError}</span>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          <button \r\n            type=\"submit\" \r\n            className={`auth__form-button ${\r\n              isValid ? '' : 'auth__form-button_disabled'}`}\r\n            disabled={!isValid}\r\n          >\r\n            Зарегистрироваться\r\n          </button>\r\n        </fieldset>\r\n        <fieldset className=\"auth__signin\">\r\n          <p className=\"auth__title-signin\">Уже зарегистрированы?</p>\r\n          <NavLink to=\"/signin\" className=\"auth__link-signin\">Войти</NavLink>\r\n        </fieldset>\r\n      </form>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Register;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useFormWithValidation } from '../../hooks/useFormWithValidation';\r\nimport './Login.css';\r\nimport '../../styles/auth.css';\r\nimport iconLogo from '../../images/header-logo.svg';\r\n\r\nfunction Login({ handleLogin, serverError }) {\r\n  \r\n  const valid = React.createRef();\r\n  const [messageServerError, setMessageServerError] = React.useState('');\r\n\r\n  const {\r\n    values,\r\n    handleChange,\r\n    errors,\r\n    isValid,\r\n    resetForm,\r\n    setIsValid,\r\n  } = useFormWithValidation();\r\n\r\n  React.useEffect(() => {\r\n    setIsValid(valid.current.checkValidity());\r\n  }, [setIsValid, valid]);\r\n\r\n  React.useEffect(() => {\r\n    resetForm();\r\n  }, [resetForm]);\r\n  \r\n  React.useEffect(() => {\r\n    if (serverError === 400) setMessageServerError('Введены некорректные данные');\r\n    if (serverError === 401) setMessageServerError('Неверный логин или пароль');\r\n  }, [serverError]);\r\n  \r\n  function handleInputChange(e) {\r\n    handleChange(e);\r\n  }\r\n  \r\n  function handleSubmit(e){\r\n    e.preventDefault();\r\n    const { email, password } = values;\r\n    handleLogin({ email, password });\r\n  }\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <form \r\n        ref={valid}\r\n        name=\"login\"\r\n        className=\"auth__form\" \r\n        action=\"#\"\r\n        onSubmit={handleSubmit}\r\n        noValidate\r\n      >\r\n        <div className=\"auth__form-container\">\r\n          <img className=\"auth__logo-form\" src={iconLogo} alt=\"изображение логотипа\" />\r\n          <h2 className=\"auth__form-title\">Рады видеть!</h2> \r\n          <fieldset className=\"login__form-input-container\">\r\n            <section className=\"auth__form-section\">\r\n              <label className=\"auth__form-label\" htmlFor=\"email\">E-mail</label>\r\n              <input className={`auth__form-input ${\r\n                errors.email ? 'auth__form-input-type-error' : ''}`}\r\n                type=\"email\" \r\n                value={values.email} \r\n                onChange={handleInputChange} \r\n                name=\"email\" \r\n                id=\"email\"\r\n                autoComplete=\"off\"\r\n                required \r\n              />\r\n              <span className=\"auth__form-input-error\" id=\"email-error\">\r\n                {errors.email || ''}\r\n              </span>\r\n            </section>\r\n            <section className=\"auth__form-section\">\r\n              <label className=\"auth__form-label\" htmlFor=\"password\">Пароль</label>\r\n              <input className={`auth__form-input ${\r\n                errors.password ? 'auth__form-input-type-error' : ''}`}\r\n                type=\"password\" \r\n                value={values.password} \r\n                onChange={handleInputChange} \r\n                name=\"password\" \r\n                id=\"password\" \r\n                minLength=\"8\"\r\n                autoComplete=\"off\"\r\n                required \r\n              />\r\n              <span className=\"auth__form-input-error\">\r\n                {errors.password || ''}\r\n              </span>\r\n            </section>\r\n          </fieldset>\r\n        </div>\r\n        <fieldset className=\"auth__form-handlers\">\r\n          {serverError ? (\r\n            <span className=\"auth__form-message-error\">{messageServerError}</span>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          <button \r\n            type=\"submit\" \r\n            className={`auth__form-button ${\r\n              isValid ? '' : 'auth__form-button_disabled'}`}\r\n            disabled={!isValid}\r\n          >\r\n            Войти\r\n          </button>\r\n        </fieldset>\r\n        <fieldset className=\"auth__signin\">\r\n          <p className=\"auth__title-signin\">Ещё не зарегистрированы?</p>\r\n          <NavLink to=\"/signup\" className=\"auth__link-signin\">Регистрация</NavLink>\r\n        </fieldset>\r\n      </form>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Login;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport './NotFound.css';\r\n\r\nfunction NotFound() {\r\n  return (\r\n    <div className=\"notfound\">\r\n      <h2 className=\"notfound__title\">404</h2>\r\n      <p className=\"notfound__subtitle\">Страница не найдена</p>\r\n      <NavLink className=\"notfound__link\" to=\"/\" target=\"__blank\" rel=\"noopener\">Назад</NavLink>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NotFound;","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport './Footer.css';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <Route exact path={[\"/\", \"/movies\", \"/saved-movies\"]}>\r\n      <footer className=\"footer\">\r\n        <h4 className=\"footer__title\">Учебный проект Яндекс.Практикум х BeatFilm.</h4>\r\n        <div className=\"footer__column\">\r\n          <p className=\"footer__copyright\">&copy; {new Date().getFullYear()}</p>\r\n          <ul className=\"footer__column-links\">\r\n            <li className=\"footer__item\">\r\n              <a \r\n                href=\"https://praktikum.yandex.ru/\" \r\n                className=\"footer__link\" \r\n                target=\"_blank\" \r\n                rel=\"noopener noreferrer\">Яндекс.Практикум\r\n              </a>\r\n            </li>\r\n            <li className=\"footer__item\">\r\n              <a\r\n                href=\"https://github.com/Milanka-m\" \r\n                className=\"footer__link\" \r\n                target=\"_blank\" \r\n                rel=\"noopener noreferrer\">Github\r\n              </a>\r\n            </li>\r\n            <li className=\"footer__item\">\r\n              <a \r\n                href=\"https://www.facebook.com/profile.php?id=100000351628871\" \r\n                className=\"footer__link\" \r\n                target=\"_blank\" \r\n                rel=\"noopener noreferrer\">Facebook\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div> \r\n      </footer>\r\n    </Route>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport './InfoTooltip.css';\r\n\r\nfunction InfoTooltip ({ error, isOpen, onClose }) {\r\n  const popupOpened = `${isOpen && 'popup_opened'}`;\r\n  \r\n  return (\r\n    <div className={`popup ${popupOpened}`}>\r\n      <div className=\"popup__container\">\r\n        <button className=\"popup__close link\" type=\"button\" aria-label=\"Закрыть попап\" onClick={onClose}></button>\r\n        <p className={`popup__info-text ${error ? 'popup__info-text_error' : ''}`}>\r\n          {error ? \"Что-то пошло не так!\" : \"Данные успешно обновлены!\"}\r\n        </p>\r\n      </div>\r\n    </div>\r\n    \r\n  );\r\n}\r\n\r\nexport default InfoTooltip;","import React from 'react';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport { Route, Switch, Redirect, useLocation, withRouter, useHistory } from 'react-router-dom';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport './App.css';\nimport Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport Movies from '../Movies/Movies';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport Profile from '../Profile/Profile';\nimport Register from '../Register/Register';\nimport Login from '../Login/Login';\nimport NotFound from '../NotFound/NotFound';\nimport Footer from '../Footer/Footer';\nimport InfoTooltip from '../InfoTooltip/InfoTooltip';\nimport { \n  register, \n  authorize, \n  getUser, \n  updateUser, \n  getSavedMovies, \n  addMoviesCard, \n  removeMoviesCard } from '../../utils/MainApi';\n\nfunction App() {\n  const { pathname } = useLocation();\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userMovies, setUserMovies] = React.useState([]);\n  const [serverError, setServerError] = React.useState(null);\n  const [errorMessage, setErrorMessage] = React.useState(false);\n  const [isInfoProfilePopupOpen, setIsInfoProfilePopupOpen] = React.useState(false)\n  \n  const history = useHistory();\n\n  function handleError(error) {\n    console.log(error);\n  }\n\n  React.useEffect(() => { \n    const token = localStorage.getItem('token');\n    if (token) {\n      tokenCheck(token);\n    } \n  }, [])\n\n  function authorizeUser(email, password) {\n    authorize(email, password)\n      .then((res) => {\n        if (res.token) {\n          localStorage.setItem('token', res.token);\n          tokenCheck(res.token);\n          setServerError(null);\n          history.push('/movies');\n        }\n      })\n      .catch((err) => {\n        if (err === 'Ошибка: 401') {\n          setServerError(401);\n        } else if (err === 'Ошибка: 400') {\n          setServerError(400);\n        }\n        console.log(err);\n      })\n  }\n\n  function handleLogin({ email, password }) {\n    authorizeUser(email, password);\n  }\n\n  function tokenCheck(token) {\n    return getUser(token)\n      .then((userData) => {\n        if (userData) {\n          setCurrentUser(userData.user);\n          setLoggedIn(true);\n          getSavedMoviesCards();\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        handleLogout();\n      });\n  }\n\n  function handleRegister({ name, email, password }) {\n    register(name, email, password)\n      .then((res) => {\n        setServerError(null);\n        if (res) {\n          authorizeUser(email, password);\n        }\n      })\n      .catch((err) => {\n        if (err === 'Ошибка: 409') {\n          setServerError(409);\n        }\n        if (err === 'Ошибка: 400') {\n          setServerError(400);\n        }\n        console.log(err);\n      });\n  }\n\n  function handleLogout() {\n    setCurrentUser({});\n    setLoggedIn(false);\n    localStorage.removeItem('token');\n    history.push('/');\n    setUserMovies([]);\n  }\n\n  function closeAllPopup() {\n    setIsInfoProfilePopupOpen(false);\n  }\n\n  function handleUpdateUser(newUserData) {\n    updateUser(newUserData)\n      .then(userData => {\n        setCurrentUser(userData.user);\n        setServerError(null);\n        setErrorMessage(false);\n        setIsInfoProfilePopupOpen(true);\n      })\n      .catch((err) => {\n        if (err === 'Ошибка: 400') {\n          setServerError(400);\n        }\n        console.log(err);\n        setErrorMessage(true);\n        setIsInfoProfilePopupOpen(true);\n      });\n  } \n\n  function handleMoviesSave(moviesData) {\n    addMoviesCard(moviesData)\n    .then(() => {\n      getSavedMoviesCards();\n    })\n    .catch(handleError);\n  };\n\n  function getSavedMoviesCards() {\n    getSavedMovies()\n      .then((moviesCards) => {\n        setUserMovies(moviesCards);\n      })\n      .catch(handleError);\n  };\n\n\n  function removeSavedMovie(id) {\n    removeMoviesCard(id)\n      .then((res) => {\n        getSavedMoviesCards();\n      })\n      .catch(handleError);\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header \n          location={pathname}\n          loggedIn={loggedIn}\n        />\n        <Switch>\n          <Route exact path=\"/\">\n            <Main />\n          </Route>\n\n          <ProtectedRoute \n            path=\"/movies\"\n            loggedIn={loggedIn}\n          >\n            <Movies\n              location={pathname}\n              onMovieSave={handleMoviesSave}\n              onMovieDelete={removeSavedMovie}\n              savedUserMovies={userMovies}\n            />\n          </ProtectedRoute>\n\n          <ProtectedRoute \n            path=\"/saved-movies\"\n            loggedIn={loggedIn}\n          >\n            <SavedMovies \n              location={pathname}\n              savedUserMovies={userMovies}\n              loggedIn={loggedIn}\n              onMovieDelete={removeSavedMovie}\n            />\n          </ProtectedRoute>\n\n          <ProtectedRoute \n            path=\"/profile\"\n            loggedIn={loggedIn}\n          >\n            <Profile \n              onUpdateUser={handleUpdateUser}\n              handleLogout={handleLogout}\n              serverError={serverError}\n              errorMessage={errorMessage}\n            />\n          </ProtectedRoute>\n\n          <Route exact path=\"/signup\">\n            <Register \n              handleRegister={handleRegister} \n              serverError={serverError}\n            />\n          </Route>\n\n          <Route exact path=\"/signin\">\n            <Login \n              handleLogin={handleLogin}\n              serverError={serverError}\n            />\n          </Route>\n\n           <Route>\n            {loggedIn ? <Redirect to=\"/movies\" /> : <Redirect to=\"/\" />}\n          </Route>\n\n          <Route exact path=\"/*\">\n            <NotFound />\n          </Route>\n\n        </Switch>\n        <Footer />\n\n        <InfoTooltip error={errorMessage} isOpen={isInfoProfilePopupOpen} onClose={closeAllPopup} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}