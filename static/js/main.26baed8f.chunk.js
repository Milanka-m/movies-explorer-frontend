(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(20),r=a.n(n),i=a(3),o=(a(27),a(2)),l=c.a.createContext(),m=a(4),j=a(9),h=a(22),d=a(0),u=["loggedIn"],b=function(e){e.loggedIn;var t=Object(h.a)(e,u);return localStorage.getItem("token")?Object(d.jsx)(m.b,Object(j.a)({},t)):Object(d.jsx)(m.a,{to:"/"})};a(34),a(35),a(36);var _=function(){return Object(d.jsx)(i.b,{className:"logo",to:"/",target:"_blank",rel:"noopener"})},f=a.p+"static/media/header-icon-main.6b118466.svg";a(37),a(38);var p=function(){return Object(d.jsxs)("div",{className:"header__hamburger-menu",children:[Object(d.jsx)("input",{id:"header__menu-toggle",type:"checkbox"}),Object(d.jsx)("label",{className:"header__menu-btn",htmlFor:"header__menu-toggle",children:Object(d.jsx)("span",{className:"header__span"})}),Object(d.jsx)("div",{className:"header__menu-container",children:Object(d.jsxs)("ul",{className:"header__menu-box",children:[Object(d.jsx)("li",{className:"header__menu-box-item",children:Object(d.jsx)(i.b,{className:"header__menu-item",to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(d.jsx)("li",{className:"header__menu-box-item",children:Object(d.jsx)(i.b,{className:"header__menu-item",to:"/movies",children:"\u0424\u0438\u043b\u044c\u043c\u044b"})}),Object(d.jsx)("li",{className:"header__menu-box-item",children:Object(d.jsx)(i.b,{className:"header__menu-item",to:"/saved-movies",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})}),Object(d.jsx)("li",{children:Object(d.jsxs)(i.b,{className:"header__menu-link-profile",to:"/profile",children:["\u0410\u043a\u043a\u0430\u0443\u043d\u0442",Object(d.jsx)("img",{className:"header__icon-profile",src:f,alt:"\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})]})})]})})]})};var O=function(e){var t=e.loggedIn;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(m.d,{children:Object(d.jsxs)("nav",{className:"header__navigation",children:[Object(d.jsx)(m.b,{exact:!0,path:["/movies","/saved-movies","/profile"],children:Object(d.jsxs)("ul",{className:"header__links",children:[Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{className:"header__link-movies",to:"/movies",target:"__blank",rel:"noopener",children:"\u0424\u0438\u043b\u044c\u043c\u044b"})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{className:"header__link-saved-movies",to:"/saved-movies",target:"__blank",rel:"noopener",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})})]})}),Object(d.jsx)(m.b,{exact:!0,path:"/",children:t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("ul",{className:"header__links",children:[Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{className:"header__link-movies",to:"/movies",target:"__blank",rel:"noopener",children:"\u0424\u0438\u043b\u044c\u043c\u044b"})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{className:"header__link-saved-movies",to:"/saved-movies",target:"__blank",rel:"noopener",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})})]}),Object(d.jsxs)(i.b,{className:"header__link-profile",to:"/profile",children:["\u0410\u043a\u043a\u0430\u0443\u043d\u0442",Object(d.jsx)("img",{className:"header__icon-profile",src:f,alt:"\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})]}),Object(d.jsx)(p,{})]}):Object(d.jsxs)("ul",{className:"header__links-auth",children:[Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{className:"header__link-signup",to:"/signup",target:"__blank",rel:"noopener",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{className:"header__link-login",to:"/signin",target:"__blank",rel:"noopener",children:"\u0412\u043e\u0439\u0442\u0438"})})]})}),Object(d.jsxs)(m.b,{exact:!0,path:["/movies","/saved-movies","/profile"],children:[Object(d.jsxs)(i.b,{className:"header__link-profile",to:"/profile",children:["\u0410\u043a\u043a\u0430\u0443\u043d\u0442",Object(d.jsx)("img",{className:"header__icon-profile",src:f,alt:"\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})]}),Object(d.jsx)(p,{})]})]})})})};var x=function(e){var t=e.location,a=e.loggedIn;return Object(d.jsx)(m.b,{exact:!0,path:["/","/movies","/saved-movies","/profile"],children:Object(d.jsx)("header",{className:"header ".concat(!a&&"/"===t&&"header_dark"),children:Object(d.jsxs)("div",{className:"header__container",children:[Object(d.jsx)(_,{}),Object(d.jsx)(O,{loggedIn:a})]})})})},v=a.p+"static/media/promo-image.bb2e7e78.png";a(39);var N=function(){return Object(d.jsx)("div",{className:"promo",children:Object(d.jsxs)("div",{className:"promo__container",children:[Object(d.jsxs)("article",{className:"promo__description",children:[Object(d.jsx)("h1",{className:"promo__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431\u2011\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(d.jsx)("p",{className:"promo__subtitle",children:"\u041b\u0438\u0441\u0442\u0430\u0439\u0442\u0435 \u043d\u0438\u0436\u0435, \u0447\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043f\u0440\u043e \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442 \u0438 \u0435\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044f."}),Object(d.jsx)("a",{className:"promo__link-content",href:"#about-me",rel:"noopener",children:"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435"})]}),Object(d.jsx)("img",{className:"promo__illustration",src:v,alt:"\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0432\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0439"})]})})};a(15);var g=function(){return Object(d.jsxs)("section",{className:"project",children:[Object(d.jsx)("h2",{className:"project__title",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(d.jsxs)("ul",{className:"project__cards",children:[Object(d.jsxs)("li",{className:"project__item",children:[Object(d.jsx)("h4",{className:"project__subtitle",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(d.jsx)("p",{className:"project__text",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(d.jsxs)("li",{className:"project__item",children:[Object(d.jsx)("h4",{className:"project__subtitle",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(d.jsx)("p",{className:"project__text",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(d.jsxs)("ul",{className:"project__stage",children:[Object(d.jsxs)("li",{className:"project__stage-item",children:[Object(d.jsx)("h4",{className:"project__stage-title project__stage-title_color_green",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(d.jsx)("p",{className:"project__stage-subtitle",children:"Back-end"})]}),Object(d.jsxs)("li",{className:"project__stage-item",children:[Object(d.jsx)("h4",{className:"project__stage-title project__stage-title_color_gray",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"}),Object(d.jsx)("p",{className:"project__stage-subtitle",children:"Front-end"})]})]})]})};a(40);var k=function(){return Object(d.jsx)("section",{className:"techs",children:Object(d.jsxs)("div",{className:"techs__container",children:[Object(d.jsx)("h2",{className:"project__title",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(d.jsx)("h3",{className:"techs__title",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(d.jsx)("p",{className:"techs__subtitle",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(d.jsxs)("ul",{className:"techs__list",children:[Object(d.jsx)("li",{className:"techs__item",children:Object(d.jsx)("p",{className:"techs__item-text",children:"HTML"})}),Object(d.jsx)("li",{className:"techs__item",children:Object(d.jsx)("p",{className:"techs__item-text",children:"CSS"})}),Object(d.jsx)("li",{className:"techs__item",children:Object(d.jsx)("p",{className:"techs__item-text",children:"JS"})}),Object(d.jsx)("li",{className:"techs__item",children:Object(d.jsx)("p",{className:"techs__item-text",children:"React"})}),Object(d.jsx)("li",{className:"techs__item",children:Object(d.jsx)("p",{className:"techs__item-text",children:"Git"})}),Object(d.jsx)("li",{className:"techs__item",children:Object(d.jsx)("p",{className:"techs__item-text",children:"Express.js"})}),Object(d.jsx)("li",{className:"techs__item",children:Object(d.jsx)("p",{className:"techs__item-text",children:"mongoDB"})})]})]})})},S=a.p+"static/media/author.80c10066.png";a(41);var y=function(){return Object(d.jsxs)("section",{className:"about-me",id:"about-me",children:[Object(d.jsx)("h2",{className:"project__title",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(d.jsxs)("div",{className:"about-me__content",children:[Object(d.jsxs)("article",{className:"about-me__description",children:[Object(d.jsx)("h1",{className:"about-me__title",children:"\u041c\u0438\u043b\u0430\u043d\u0430"}),Object(d.jsx)("p",{className:"about-me__subtitle",children:"\u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 34 \u0433\u043e\u0434\u0430"}),Object(d.jsx)("p",{className:"about-me__paragraph",children:"\u042f \u0440\u043e\u0434\u0438\u043b\u0430\u0441\u044c \u0432 \u041c\u0438\u043d\u0441\u043a\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0438 \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u0440\u0433\u043e\u0432\u043b\u0435\u0439 \u0411\u0413\u042d\u0423. \u0420\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0432 \u0441\u0444\u0435\u0440\u0435 \u043e\u0431\u0449\u0435\u043f\u0438\u0442\u0430. 2 \u0433\u043e\u0434\u0430 \u043d\u0430\u0437\u0430\u0434 \u043f\u0435\u0440\u0435\u0435\u0445\u0430\u043b\u0430 \u0441 \u0441\u0435\u043c\u044c\u0435\u0439 \u0432 \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433. \u0423 \u043c\u0435\u043d\u044f \u0435\u0441\u0442\u044c \u043c\u0443\u0436 \u0438 2 \u0434\u043e\u0447\u043a\u0438. \u042f \u043b\u044e\u0431\u043b\u044e \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0444\u0438\u0442\u043d\u0435\u0441\u043e\u043c. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b\u0430 \u043a\u043e\u0434\u0438\u0442\u044c. \u041f\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0438 \u043a\u0443\u0440\u0441\u0430 \u043f\u043e \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435, \u0445\u043e\u0447\u0443 \u0441\u0442\u0430\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u043c \u0441\u0438\u043b\u044c\u043d\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b."}),Object(d.jsxs)("ul",{className:"about-me__links",children:[Object(d.jsx)("li",{children:Object(d.jsx)("a",{className:"about-me__link",href:"https://www.facebook.com/profile.php?id=100000351628871",target:"_blank",rel:"noopener noreferrer",children:"Facebook"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{className:"about-me__link",href:"https://github.com/Milanka-m",target:"_blank",rel:"noopener noreferrer",children:"Github"})})]})]}),Object(d.jsx)("img",{className:"about-me__illustration",src:S,alt:"\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u0440\u0430"})]})]})},C=a.p+"static/media/icon-arrow.c9123697.svg";a(42);var w=function(){return Object(d.jsxs)("section",{className:"portfolio",children:[Object(d.jsx)("a",{className:"portfolio__link",href:"https://github.com/Milanka-m",target:"_blank",rel:"noopener noreferrer",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(d.jsxs)(i.b,{className:"portfolio__links",to:"/",target:"_blank",rel:"noopener",children:[Object(d.jsx)("p",{className:"portfolio__link-info",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(d.jsx)("img",{className:"portfolio__link-arrow",src:C,alt:"\u0438\u043a\u043e\u043d\u043a\u0430 \u0441\u0442\u0440\u0435\u043b\u043a\u0438"})]}),Object(d.jsxs)(i.b,{className:"portfolio__links",to:"/",target:"_blank",rel:"noopener",children:[Object(d.jsx)("p",{className:"portfolio__link-info",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(d.jsx)("img",{className:"portfolio__link-arrow",src:C,alt:"\u0438\u043a\u043e\u043d\u043a\u0430 \u0441\u0442\u0440\u0435\u043b\u043a\u0438"})]}),Object(d.jsxs)(i.b,{className:"portfolio__links",to:"/",target:"_blank",rel:"noopener",children:[Object(d.jsx)("p",{className:"portfolio__link-info",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(d.jsx)("img",{className:"portfolio__link-arrow",src:C,alt:"\u0438\u043a\u043e\u043d\u043a\u0430 \u0441\u0442\u0440\u0435\u043b\u043a\u0438"})]})]})};var M=function(){return Object(d.jsxs)("main",{className:"content",children:[Object(d.jsx)(N,{}),Object(d.jsx)(g,{}),Object(d.jsx)(k,{}),Object(d.jsx)(y,{}),Object(d.jsx)(w,{})]})},E=(a(43),a.p+"static/media/icon-search.2716ce18.svg");a(44);var I=function(e){var t=e.shortMovieFilter,a=e.onCheckboxChange;return Object(d.jsx)("fieldset",{className:"search__form-selector",children:Object(d.jsxs)("label",{className:"search__form-label",htmlFor:"short-movie",children:[Object(d.jsx)("input",{className:"search__form-item-selector",type:"checkbox",checked:t,onChange:a,name:"movie-option",id:"short-movie",value:"short-movie"}),Object(d.jsx)("span",{className:"search__form-pseudo-item"}),Object(d.jsx)("span",{className:"search__form-label-text",children:t?"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438":"\u041d\u0435 \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})})};var F=function(e){var t=e.getInitialMovies,a=e.shortMovieFilter,s=e.onCheckboxChange,n=c.a.useState(""),r=Object(o.a)(n,2),i=r[0],l=r[1],m=c.a.useState("\u0424\u0438\u043b\u044c\u043c"),j=Object(o.a)(m,2),h=j[0],u=j[1],b=c.a.useState(!1),_=Object(o.a)(b,2),f=_[0],p=_[1],O=c.a.createRef(),x=function(){p(!1),u("\u0424\u0438\u043b\u044c\u043c")};return Object(d.jsx)("section",{className:"search",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),0===i.trim().length?(u("\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e"),p(!0),O.current.focus()):(t(i),l(""))},className:"search__form",name:"movie",action:"#",noValidate:!0,children:[Object(d.jsxs)("section",{className:"search__form-section",children:[Object(d.jsx)("fieldset",{className:"search__form-input-container",children:Object(d.jsx)("input",{ref:O,value:i,onChange:function(e){l(e.target.value),x()},onBlur:x,className:"search__form-input ".concat(f?"search__form-input-placeholder":""),type:"text",name:"moviename",id:"moviename",placeholder:h,autoComplete:"off",required:!0})}),Object(d.jsx)("fieldset",{className:"search__form-handlers",children:Object(d.jsx)("button",{className:"search__form-button",type:"submit","aria-label":"\u043f\u043e\u0438\u0441\u043a",children:Object(d.jsx)("img",{className:"search__form-icon-search",src:E,alt:"\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u043a\u043e\u043d\u043a\u0438 \u043f\u043e\u0438\u0441\u043a\u0430"})})})]}),Object(d.jsx)(I,{shortMovieFilter:a,onCheckboxChange:s})]})})};a(45);var U=function(e){var t=e.isShow;return Object(d.jsx)("div",{className:t?"preloader preloader_active":"preloader",children:Object(d.jsx)("div",{className:"preloader__container",children:Object(d.jsx)("span",{className:"preloader__round"})})})},D=(a(46),a.p+"static/media/icon-delete.95dc43f5.svg");a(47);var L=function(e){var t,a=e.location,s=e.onMovieSave,c=e.onMovieDelete,n=e.savedUserMovies,r=e.movie,i=e.movieId,o=e.country,l=e.director,m=e.year,j=e.description,h=e.trailer,u=e.thumbnail,b=e.nameRU,_=e.nameEN,f=e.image,p=e.duration,O={movieId:i,country:o,director:l,duration:p,year:m,description:j,trailer:h,thumbnail:u,nameRU:b,nameEN:_,image:f},x=n.some((function(e){return e.nameRU===b})),v="".concat(x&&"elements__icon-favorite_active");return Object(d.jsxs)("article",{className:"elements__movie",children:[Object(d.jsx)("a",{href:h,className:"elements__movie-link",target:"_blank",rel:"noopener noreferrer",children:Object(d.jsx)("img",{className:"elements__movie-image",src:f,alt:b})}),Object(d.jsxs)("div",{className:"elements__label",children:[Object(d.jsxs)("ul",{className:"elements__list",children:[Object(d.jsx)("li",{children:Object(d.jsx)("h2",{className:"elements__heading",children:b})}),Object(d.jsx)("li",{children:Object(d.jsx)("p",{className:"elements__time",children:(t=p,Math.trunc(t/60)+"\u0447 "+t%60+"\u043c")})})]}),"/movies"===a?Object(d.jsx)("button",{className:"elements__icon-favorite ".concat(v),type:"button","aria-label":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c",onClick:function(){x?n.forEach((function(e){e.nameRU===b&&c(e._id)})):s(O)}}):Object(d.jsx)("button",{className:"elements__button-delete",type:"button","aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c",onClick:function(){c(r._id)},children:Object(d.jsx)("img",{className:"elements__icon-delete",src:D,alt:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c"})})]})]})};var R=function(e){var t=e.location,a=e.initialMovies,s=void 0===a?[]:a,n=e.onMovieSave,r=e.onMovieDelete,i=e.savedUserMovies,l=c.a.useState(0),m=Object(o.a)(l,2),j=m[0],h=m[1];c.a.useEffect((function(){"/movies"===t?window.innerWidth>1250?h(12):window.innerWidth>750?h(8):h(5):h(s.length)}),[s,t]);var u=c.a.useMemo((function(){return j>=s.length?"elements__movie-button_hidden":""}),[j,s]);return Object(d.jsxs)("section",{className:"elements",children:[Object(d.jsx)("div",{className:"elements__container",children:s.slice(0,j).map((function(e){return Object(d.jsx)(L,{location:t,onMovieSave:n,onMovieDelete:r,savedUserMovies:i,movie:e,movieId:e.id||e.movieId,country:e.country,director:e.director,duration:e.duration,year:e.year,description:e.description,trailer:e.trailerLink||e.trailer,thumbnail:e.thumbnail||"https://api.nomoreparties.co".concat(e.image.formats.thumbnail.url),nameRU:e.nameRU,nameEN:e.nameEN,image:"/saved-movies"===t?e.image:"https://api.nomoreparties.co".concat(e.image.url)},e.id)}))}),Object(d.jsx)("button",{onClick:function(){window.innerWidth>1250?h(j+3):h(j+2)},className:"/movies"===t?"elements__movie-button ".concat(u):"elements__movie-button elements__movie-button_hidden",children:"\u0415\u0449\u0451"})]})},V=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))};a(48);var A=function(e){var t=e.isErrorMessage;return Object(d.jsx)("section",{className:"notfound-movies",children:Object(d.jsx)("div",{className:"notfound-movies__container",children:Object(d.jsx)("h4",{className:"notfound-movies__title",children:t?"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.":"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e."})})})},T=function(e,t){if(e.nameRU.toString().toLowerCase().includes(t)||null!==e.nameEN&&e.nameEN.toString().toLowerCase().includes(t))return e};var B=function(e){var t=e.location,a=e.onMovieSave,s=e.onMovieDelete,n=e.savedUserMovies,r=c.a.useState([]),i=Object(o.a)(r,2),l=i[0],m=i[1],j=c.a.useState(!1),h=Object(o.a)(j,2),u=h[0],b=h[1],_=c.a.useState(!1),f=Object(o.a)(_,2),p=f[0],O=f[1],x=c.a.useState(!1),v=Object(o.a)(x,2),N=v[0],g=v[1];return c.a.useEffect((function(){var e=localStorage.getItem("movies");m(e?JSON.parse(e):[]),g(!1)}),[]),Object(d.jsxs)("main",{className:"content",children:[Object(d.jsx)(F,{getInitialMovies:function(e){m([]),b(!0),O(!1),fetch("".concat("https://api.nomoreparties.co/beatfilm-movies"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(V).then((function(t){var a=t.filter((function(t){return T(t,e)}));m(a),localStorage.setItem("movies",JSON.stringify(a)),g(!1)})).catch((function(e){console.log(e),O(!0)})).finally((function(){b(!1)}))},shortMovieFilter:N,onCheckboxChange:function(){g(!N);var e=JSON.parse(localStorage.getItem("movies"));if(e){var t=e.filter((function(e){return e.duration<=40}));m(t)}}}),Object(d.jsx)(U,{isShow:u}),l.length>0?Object(d.jsx)(R,{location:t,initialMovies:l,savedUserMovies:n,onMovieDelete:s,onMovieSave:a}):p?Object(d.jsx)(d.Fragment,{}):Object(d.jsx)(A,{isErrorMessage:p})]})},J="https://api.movies-explorer-22.nomoredomains.club",P=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))},q=function(){return fetch("".concat(J,"/movies"),{headers:{Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-type":"application/json"}}).then(P)};var z=function(e){var t=e.loggedIn,a=e.location,s=e.savedUserMovies,n=e.onMovieDelete,r=c.a.useState([]),i=Object(o.a)(r,2),l=i[0],m=i[1],j=c.a.useState(!1),h=Object(o.a)(j,2),u=h[0],b=h[1],_=c.a.useState(!1),f=Object(o.a)(_,2),p=f[0],O=f[1],x=c.a.useState(!1),v=Object(o.a)(x,2),N=v[0],g=v[1];return Object(d.jsxs)("main",{className:"content",children:[Object(d.jsx)(F,{getInitialMovies:function(e){m([]),b(!0),O(!1),t&&q().then((function(t){var a=t.filter((function(t){return T(t,e)}));m(N?a.filter((function(e){return e.duration<=40})):a),g(!1)})).catch((function(e){console.log(e),O(!0)})).finally((function(){b(!1)}))},shortMovieFilter:N,onCheckboxChange:function(){g(!N)}}),Object(d.jsx)(U,{isShow:u}),s.length>0?Object(d.jsx)(R,{location:a,initialMovies:l.length>0?l:s,savedUserMovies:s,onMovieDelete:n}):p?Object(d.jsx)(A,{isErrorMessage:p}):Object(d.jsx)(d.Fragment,{})]})},G=a(12);function W(){var e=Object(s.useState)({}),t=Object(o.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)({}),r=Object(o.a)(n,2),i=r[0],l=r[1],m=Object(s.useState)({}),h=Object(o.a)(m,2),d=h[0],u=h[1];var b=Object(s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];c(e),l(t),u(a)}),[c,l,u]);return{values:a,handleChange:function(e){var t=e.target,s=t.name,n=t.value;c(Object(j.a)(Object(j.a)({},a),{},Object(G.a)({},s,n))),l(Object(j.a)(Object(j.a)({},i),{},Object(G.a)({},s,t.validationMessage)))},errors:i,isValid:d,resetForm:b,setIsValid:u}}a(49),a(16);var H=function(e){var t=e.onUpdateUser,a=e.handleLogout,s=e.serverError,n=c.a.useContext(l),r=c.a.createRef(),i=c.a.useState(""),m=Object(o.a)(i,2),j=m[0],h=m[1],u=c.a.useState(),b=Object(o.a)(u,2),_=b[0],f=b[1],p=c.a.useState(),O=Object(o.a)(p,2),x=O[0],v=O[1],N=W(),g=N.values,k=N.handleChange,S=N.errors,y=N.isValid,C=N.resetForm,w=N.setIsValid;function M(e){k(e)}return c.a.useEffect((function(){w(r.current.checkValidity())}),[w,r]),c.a.useEffect((function(){C()}),[C]),c.a.useEffect((function(){400===s&&h("\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435")}),[s]),c.a.useEffect((function(){Object.keys(n).length&&(f(n.name),v(n.email),w(Object.keys(g).length))}),[n,w,g]),Object(d.jsx)("div",{className:"profile",children:Object(d.jsxs)("form",{ref:r,name:"profile",className:"profile__form",action:"#",onSubmit:function(e){e.preventDefault();var a=g.name,s=g.email;t({name:a,email:s})},noValidate:!0,children:[Object(d.jsxs)("div",{className:"profile__form-container",children:[Object(d.jsx)("h2",{className:"profile__form-title",children:"\u041f\u0440\u0438\u0432\u0435\u0442, ".concat(g.name?g.name:_,"!")}),Object(d.jsxs)("fieldset",{className:"profile__form-input-container",children:[Object(d.jsxs)("section",{className:"profile__form-section",children:[Object(d.jsx)("label",{className:"profile__form-label",htmlFor:"name",children:"\u0418\u043c\u044f"}),Object(d.jsx)("input",{className:"profile__form-input ".concat(S.name?"auth__form-input-type-error":""),value:g.name?g.name:_,onChange:M,type:"text",name:"name",id:"name",autoComplete:"off",minLength:"2",maxLength:"30",required:!0}),Object(d.jsx)("span",{className:"auth__form-input-error",id:"name-error",children:S.name||""})]}),Object(d.jsxs)("section",{className:"profile__form-section",children:[Object(d.jsx)("label",{className:"profile__form-label",htmlFor:"email",children:"E-mail"}),Object(d.jsx)("input",{className:"profile__form-input ".concat(S.email?"auth__form-input-type-error":""),value:g.email?g.email:x,onChange:M,type:"email",name:"email",id:"email",autoComplete:"off",required:!0}),Object(d.jsx)("span",{className:"auth__form-input-error",id:"email-error",children:S.email||""})]})]})]}),Object(d.jsxs)("fieldset",{className:"profile__form-handlers",children:[s?Object(d.jsx)("span",{className:"profile__form-message-error",children:j}):Object(d.jsx)(d.Fragment,{}),Object(d.jsx)("button",{type:"submit",className:"profile__form-button ".concat(y?"":"profile__form-button_disabled"),disabled:!y,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]}),Object(d.jsx)("fieldset",{className:"profile__form-handlers",children:Object(d.jsx)("button",{onClick:a,className:"profile__form-button profile__form-button_color_red",children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})})]})})},Y=a.p+"static/media/header-logo.2541116e.svg";var K=function(e){var t=e.handleRegister,a=e.serverError,s=c.a.createRef(),n=c.a.useState(""),r=Object(o.a)(n,2),l=r[0],m=r[1],j=W(),h=j.values,u=j.handleChange,b=j.errors,_=j.isValid,f=j.resetForm,p=j.setIsValid;return c.a.useEffect((function(){p(s.current.checkValidity())}),[p,s]),c.a.useEffect((function(){f()}),[f]),c.a.useEffect((function(){400===a&&m("\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),409===a&&m("\u0422\u0430\u043a\u043e\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442")}),[a]),Object(d.jsx)("div",{className:"auth",children:Object(d.jsxs)("form",{ref:s,name:"register",action:"#",className:"auth__form",onSubmit:function(e){e.preventDefault();var a=h.name,s=h.email,c=h.password;t({name:a,email:s,password:c})},noValidate:!0,children:[Object(d.jsxs)("div",{className:"auth__form-container",children:[Object(d.jsx)("img",{className:"auth__logo-form",src:Y,alt:"\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043b\u043e\u0433\u043e\u0442\u0438\u043f\u0430"}),Object(d.jsx)("h2",{className:"auth__form-title",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(d.jsxs)("fieldset",{className:"auth__form-input-container",children:[Object(d.jsxs)("section",{className:"auth__form-section",children:[Object(d.jsx)("label",{class:"auth__form-label",htmlFor:"name",children:"\u0418\u043c\u044f"}),Object(d.jsx)("input",{className:"auth__form-input ".concat(b.name?"auth__form-input-type-error":""),type:"text",value:h.name,onChange:function(e){u(e)},name:"name",id:"name",autoComplete:"off",minLength:"2",maxLength:"30",required:!0}),Object(d.jsx)("span",{className:"auth__form-input-error",id:"name-error",children:b.name||""})]}),Object(d.jsxs)("section",{className:"auth__form-section",children:[Object(d.jsx)("label",{class:"auth__form-label",htmlFor:"email",children:"E-mail"}),Object(d.jsx)("input",{className:"auth__form-input ".concat(b.email?"auth__form-input-type-error":""),type:"email",value:h.email,onChange:u,name:"email",id:"email",autoComplete:"off",required:!0}),Object(d.jsx)("span",{className:"auth__form-input-error",id:"email-error",children:b.email||""})]}),Object(d.jsxs)("section",{className:"auth__form-section",children:[Object(d.jsx)("label",{class:"auth__form-label",htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(d.jsx)("input",{className:"auth__form-input ".concat(b.password?"auth__form-input-type-error":""),type:"password",value:h.password,onChange:u,name:"password",id:"password",minLength:"8",autoComplete:"off",required:!0}),Object(d.jsx)("span",{className:"auth__form-input-error",id:"password-error",children:b.password||""})]})]})]}),Object(d.jsxs)("fieldset",{className:"auth__form-handlers",children:[a?Object(d.jsx)("span",{className:"auth__form-message-error",children:l}):Object(d.jsx)(d.Fragment,{}),Object(d.jsx)("button",{type:"submit",className:"auth__form-button ".concat(_?"":"auth__form-button_disabled"),disabled:!_,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(d.jsxs)("fieldset",{className:"auth__signin",children:[Object(d.jsx)("p",{className:"auth__title-signin",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(d.jsx)(i.b,{to:"/signin",className:"auth__link-signin",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})};a(50);var Q=function(e){var t=e.handleLogin,a=e.serverError,s=c.a.createRef(),n=c.a.useState(""),r=Object(o.a)(n,2),l=r[0],m=r[1],j=W(),h=j.values,u=j.handleChange,b=j.errors,_=j.isValid,f=j.resetForm,p=j.setIsValid;function O(e){u(e)}return c.a.useEffect((function(){p(s.current.checkValidity())}),[p,s]),c.a.useEffect((function(){f()}),[f]),c.a.useEffect((function(){400===a&&m("\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),401===a&&m("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")}),[a]),Object(d.jsx)("div",{className:"auth",children:Object(d.jsxs)("form",{ref:s,name:"login",className:"auth__form",action:"#",onSubmit:function(e){e.preventDefault();var a=h.email,s=h.password;t({email:a,password:s})},noValidate:!0,children:[Object(d.jsxs)("div",{className:"auth__form-container",children:[Object(d.jsx)("img",{className:"auth__logo-form",src:Y,alt:"\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043b\u043e\u0433\u043e\u0442\u0438\u043f\u0430"}),Object(d.jsx)("h2",{className:"auth__form-title",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"}),Object(d.jsxs)("fieldset",{className:"login__form-input-container",children:[Object(d.jsxs)("section",{className:"auth__form-section",children:[Object(d.jsx)("label",{className:"auth__form-label",htmlFor:"email",children:"E-mail"}),Object(d.jsx)("input",{className:"auth__form-input ".concat(b.email?"auth__form-input-type-error":""),type:"email",value:h.email,onChange:O,name:"email",id:"email",autoComplete:"off",required:!0}),Object(d.jsx)("span",{className:"auth__form-input-error",id:"email-error",children:b.email||""})]}),Object(d.jsxs)("section",{className:"auth__form-section",children:[Object(d.jsx)("label",{className:"auth__form-label",htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(d.jsx)("input",{className:"auth__form-input ".concat(b.password?"auth__form-input-type-error":""),type:"password",value:h.password,onChange:O,name:"password",id:"password",minLength:"8",autoComplete:"off",required:!0}),Object(d.jsx)("span",{className:"auth__form-input-error",children:b.password||""})]})]})]}),Object(d.jsxs)("fieldset",{className:"auth__form-handlers",children:[a?Object(d.jsx)("span",{className:"auth__form-message-error",children:l}):Object(d.jsx)(d.Fragment,{}),Object(d.jsx)("button",{type:"submit",className:"auth__form-button ".concat(_?"":"auth__form-button_disabled"),disabled:!_,children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(d.jsxs)("fieldset",{className:"auth__signin",children:[Object(d.jsx)("p",{className:"auth__title-signin",children:"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(d.jsx)(i.b,{to:"/signup",className:"auth__link-signin",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})})};a(51);var X=function(){return Object(d.jsxs)("div",{className:"notfound",children:[Object(d.jsx)("h2",{className:"notfound__title",children:"404"}),Object(d.jsx)("p",{className:"notfound__subtitle",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(d.jsx)(i.b,{className:"notfound__link",to:"/",target:"__blank",rel:"noopener",children:"\u041d\u0430\u0437\u0430\u0434"})]})};a(52);var Z=function(){return Object(d.jsx)(m.b,{exact:!0,path:["/","/movies","/saved-movies"],children:Object(d.jsxs)("footer",{className:"footer",children:[Object(d.jsx)("h4",{className:"footer__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(d.jsxs)("div",{className:"footer__column",children:[Object(d.jsxs)("p",{className:"footer__copyright",children:["\xa9 ",(new Date).getFullYear()]}),Object(d.jsxs)("ul",{className:"footer__column-links",children:[Object(d.jsx)("li",{className:"footer__item",children:Object(d.jsx)("a",{href:"https://praktikum.yandex.ru/",className:"footer__link",target:"_blank",rel:"noopener noreferrer",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(d.jsx)("li",{className:"footer__item",children:Object(d.jsx)("a",{href:"https://github.com/Milanka-m",className:"footer__link",target:"_blank",rel:"noopener noreferrer",children:"Github"})}),Object(d.jsx)("li",{className:"footer__item",children:Object(d.jsx)("a",{href:"https://www.facebook.com/profile.php?id=100000351628871",className:"footer__link",target:"_blank",rel:"noopener noreferrer",children:"Facebook"})})]})]})]})})};a(53);var $=function(e){var t=e.error,a=e.isOpen,s=e.onClose,c="".concat(a&&"popup_opened");return Object(d.jsx)("div",{className:"popup ".concat(c),children:Object(d.jsxs)("div",{className:"popup__container",children:[Object(d.jsx)("button",{className:"popup__close link",type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043f\u043e\u043f\u0430\u043f",onClick:s}),Object(d.jsx)("p",{className:"popup__info-text ".concat(t?"popup__info-text_error":""),children:t?"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a!":"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b!"})]})})};var ee=Object(m.i)((function(){var e=Object(m.h)().pathname,t=c.a.useState({}),a=Object(o.a)(t,2),s=a[0],n=a[1],r=c.a.useState(!1),i=Object(o.a)(r,2),j=i[0],h=i[1],u=c.a.useState([]),_=Object(o.a)(u,2),f=_[0],p=_[1],O=c.a.useState(null),v=Object(o.a)(O,2),N=v[0],g=v[1],k=c.a.useState(!1),S=Object(o.a)(k,2),y=S[0],C=S[1],w=c.a.useState(!1),E=Object(o.a)(w,2),I=E[0],F=E[1],U=Object(m.g)();function D(e){console.log(e)}function L(e,t){(function(e,t){return fetch("".concat(J,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(P)})(e,t).then((function(e){e.token&&(localStorage.setItem("token",e.token),R(e.token),g(null),U.push("/movies"))})).catch((function(e){"\u041e\u0448\u0438\u0431\u043a\u0430: 401"===e?g(401):"\u041e\u0448\u0438\u0431\u043a\u0430: 400"===e&&g(400),console.log(e)}))}function R(e){return function(e){return fetch("".concat(J,"/users/me"),{headers:{Accept:"application/json",Authorization:"Bearer ".concat(e),"Content-type":"application/json"}}).then(P)}(e).then((function(e){e&&(n(e.user),h(!0),A())})).catch((function(e){console.log(e),V()}))}function V(){n({}),h(!1),localStorage.removeItem("token"),U.push("/"),p([])}function A(){q().then((function(e){p(e)})).catch(D)}function T(e){(function(e){return fetch("".concat(J,"/movies/").concat(e),{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-type":"application/json"}}).then(P)})(e).then((function(e){A()})).catch(D)}return c.a.useEffect((function(){var e=localStorage.getItem("token");e&&R(e)}),[]),Object(d.jsx)(l.Provider,{value:s,children:Object(d.jsxs)("div",{className:"page",children:[Object(d.jsx)(x,{location:e,loggedIn:j}),Object(d.jsxs)(m.d,{children:[Object(d.jsx)(m.b,{exact:!0,path:"/",children:Object(d.jsx)(M,{})}),Object(d.jsx)(b,{path:"/movies",loggedIn:j,children:Object(d.jsx)(B,{location:e,onMovieSave:function(e){var t;(t=e,fetch("".concat(J,"/movies"),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-type":"application/json"},body:JSON.stringify({movieId:t.movieId,country:t.country,director:t.director,duration:t.duration,year:t.year,description:t.description,image:t.image,trailer:t.trailer,thumbnail:t.thumbnail,nameRU:t.nameRU,nameEN:t.nameEN})}).then(P)).then((function(){A()})).catch(D)},onMovieDelete:T,savedUserMovies:f})}),Object(d.jsx)(b,{path:"/saved-movies",loggedIn:j,children:Object(d.jsx)(z,{location:e,savedUserMovies:f,loggedIn:j,onMovieDelete:T})}),Object(d.jsx)(b,{path:"/profile",loggedIn:j,children:Object(d.jsx)(H,{onUpdateUser:function(e){(function(e){return fetch("".concat(J,"/users/me"),{method:"PATCH",headers:{Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-type":"application/json"},body:JSON.stringify({name:e.name,email:e.email})}).then(P)})(e).then((function(e){n(e.user),g(null),C(!1),F(!0)})).catch((function(e){"\u041e\u0448\u0438\u0431\u043a\u0430: 400"===e&&g(400),console.log(e),C(!0),F(!0)}))},handleLogout:V,serverError:N,errorMessage:y})}),Object(d.jsx)(m.b,{exact:!0,path:"/signup",children:Object(d.jsx)(K,{handleRegister:function(e){var t=e.name,a=e.email,s=e.password;(function(e,t,a){return fetch("".concat(J,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:a})}).then(P)})(t,a,s).then((function(e){g(null),e&&L(a,s)})).catch((function(e){"\u041e\u0448\u0438\u0431\u043a\u0430: 409"===e&&g(409),"\u041e\u0448\u0438\u0431\u043a\u0430: 400"===e&&g(400),console.log(e)}))},serverError:N})}),Object(d.jsx)(m.b,{exact:!0,path:"/signin",children:Object(d.jsx)(Q,{handleLogin:function(e){L(e.email,e.password)},serverError:N})}),Object(d.jsx)(m.b,{children:j?Object(d.jsx)(m.a,{to:"/movies"}):Object(d.jsx)(m.a,{to:"/"})}),Object(d.jsx)(m.b,{exact:!0,path:"/*",children:Object(d.jsx)(X,{})})]}),Object(d.jsx)(Z,{}),Object(d.jsx)($,{error:y,isOpen:I,onClose:function(){F(!1)}})]})})})),te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,55)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),s(e),c(e),n(e),r(e)}))};r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(i.a,{children:Object(d.jsx)(ee,{})})}),document.getElementById("root")),te()}],[[54,1,2]]]);
//# sourceMappingURL=main.26baed8f.chunk.js.map